<%- include('partials/header.ejs'); %>

<!-- Signup Section -->
<section
  class="d-flex align-items-center py-5 bg-light"
  style="min-height: 100vh"
>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-xl-6 col-lg-8 col-md-10">
        <div class="card shadow-lg rounded-3 border-0 overflow-hidden">
          <!-- Form Header with Role Selection -->
          <div class="card-header bg-primary text-white py-3">
            <div class="text-center">
              <h2 class="fw-bold mb-0">Create Your Account</h2>
            </div>
            <div class="text-center">
              <% if (success && success.length > 0) { %>
              <div class="alert alert-success"><%= success %></div>
              <% } %> <% if (error && error.length > 0) { %>
              <div class="alert alert-danger"><%= error %></div>
              <% } %> <% if (info && info.length > 0) { %>
              <div class="alert alert-info"><%= info %></div>
              <% } %>
            </div>
          </div>

          <div class="card-body p-4 p-md-5">
            <!-- Role Selection Tabs -->
            <ul
              class="nav nav-pills nav-fill mb-4"
              id="roleTabs"
              role="tablist"
            >
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link active"
                  id="student-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#student"
                  type="button"
                  role="tab"
                >
                  <i class="bi bi-person-video2 me-2"></i> Student
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="parent-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#parent"
                  type="button"
                  role="tab"
                >
                  <i class="bi bi-people-fill me-2"></i> Parent
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="teacher-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#teacher"
                  type="button"
                  role="tab"
                >
                  <i class="bi bi-person-badge me-2"></i> Teacher
                </button>
              </li>
            </ul>

            <!-- Form Content -->
            <div class="tab-content" id="roleTabsContent">
              <!-- Student Signup Form -->
              <div
                class="tab-pane fade show active"
                id="student"
                role="tabpanel"
              >
                <form id="studentForm" method="post" action="/signup/student">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <label for="sFirstName" class="form-label"
                        >First Name</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="sFirstName"
                        name="firstName"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="sLastName" class="form-label"
                        >Last Name</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="sLastName"
                        name="lastName"
                        required
                      />
                    </div>
                    <div class="col-12">
                      <label for="sDOB" class="dob-label">D.O.Birth</label>
                      <input
                        type="date"
                        class="form-control"
                        id="sDOB"
                        name="dateOfBirth"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="sPassword" class="form-label">Password</label>
                      <input
                        type="password"
                        class="form-control"
                        id="sPassword"
                        name="password"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="sConfirmPassword" class="form-label"
                        >Confirm Password</label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="sConfirmPassword"
                        name="confirmPassword"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="sGrade" class="form-label">Form/Class</label>
                      <select
                        class="form-select"
                        id="sGrade"
                        name="grade"
                        required
                      >
                        <option value="">Select Form</option>
                        <option value="1">Form 1</option>
                        <option value="2">Form 2</option>
                        <option value="3">Form 3</option>
                        p9,
                        <option value="4">Form 4</option>
                      </select>
                    </div>
                    <div class="col-md-6">
                      <label for="sParentEmail" class="form-label"
                        >Parent's Email</label
                      >
                      <input
                        type="email"
                        class="form-control"
                        id="sParentEmail"
                        name="parentEmail"
                        required
                      />
                      <small class="text-muted"
                        >For account linking and notifications</small
                      >
                    </div>
                    <div class="col-12">
                      <label for="sStudentId" class="form-label"
                        >Student ID</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="sStudentId"
                        name="studentId"
                        required
                      />
                    </div>
                    <div class="col-12 mt-4">
                      <button
                        type="submit"
                        class="btn btn-primary w-100 py-3 fw-bold"
                      >
                        Register as Student
                      </button>
                    </div>
                  </div>
                </form>
              </div>

              <!-- Parent Signup Form -->
              <div class="tab-pane fade" id="parent" role="tabpanel">
                <form id="parentForm" method="post" action="/signup/parent">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <label for="pFirstName" class="form-label"
                        >First Name</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="pFirstName"
                        name="firstName"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="pLastName" class="form-label"
                        >Last Name</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="pLastName"
                        name="lastName"
                        required
                      />
                    </div>
                    <div class="col-12">
                      <label for="pEmail" class="form-label">Email</label>
                      <input
                        type="email"
                        class="form-control"
                        id="pEmail"
                        name="email"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="pPassword" class="form-label">Password</label>
                      <input
                        type="password"
                        class="form-control"
                        id="pPassword"
                        name="password"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="pConfirmPassword" class="form-label"
                        >Confirm Password</label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="pConfirmPassword"
                        name="confirmPassword"
                        required
                      />
                    </div>
                    <div class="col-12">
                      <label for="pPhone" class="form-label"
                        >Phone Number</label
                      >
                      <input
                        type="tel"
                        class="form-control"
                        id="pPhone"
                        name="phone"
                        required
                      />
                    </div>
                    <div class="col-12">
                      <label for="pChildStudentId" class="form-label"
                        >Child's Student ID</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="pChildStudentId"
                        name="childStudentId"
                        required
                      />
                      <small class="text-muted"
                        >To link with your child's account</small
                      >
                    </div>
                    <div class="col-12 mt-4">
                      <button
                        type="submit"
                        class="btn btn-primary w-100 py-3 fw-bold"
                      >
                        Register as Parent
                      </button>
                    </div>
                  </div>
                </form>
              </div>

              <!-- Teacher Signup Form -->
              <div class="tab-pane fade" id="teacher" role="tabpanel">
                <form id="teacherForm" method="post" action="/signup/teacher">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <label for="tFirstName" class="form-label"
                        >First Name</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="tFirstName"
                        name="firstName"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="tLastName" class="form-label"
                        >Last Name</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="tLastName"
                        name="lastName"
                        required
                      />
                    </div>
                    <div class="col-12">
                      <label for="tEmail" class="form-label"
                        >School Email</label
                      >
                      <input
                        type="email"
                        class="form-control"
                        id="tEmail"
                        name="email"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="tPassword" class="form-label">Password</label>
                      <input
                        type="password"
                        class="form-control"
                        id="tPassword"
                        name="password"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="tConfirmPassword" class="form-label"
                        >Confirm Password</label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="tConfirmPassword"
                        name="confirmPassword"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="tSubject" class="form-label">Subject</label>
                      <select
                        class="form-select"
                        id="tSubject"
                        name="subject"
                        required
                      >
                        <option value="">Select Subject</option>
                        <option value="math">Mathematics</option>
                        <option value="science">Biology</option>
                        <option value="english">Chemistry</option>
                        <option value="history">Physics</option>
                        <option value="history">Geography</option>
                        <option value="history">Civics</option>
                        <option value="history">History</option>
                        <option value="history">ICT</option>
                        <option value="history">Kiswahili</option>
                        <option value="history">English</option>
                      </select>
                    </div>
                    <div class="col-md-6">
                      <label for="tTeacherId" class="form-label"
                        >Teacher ID</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="tTeacherId"
                        name="teacherId"
                        required
                      />
                    </div>
                    <div class="col-12 mt-4">
                      <button
                        type="submit"
                        class="btn btn-primary w-100 py-3 fw-bold"
                      >
                        Register as Teacher
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>

            <div class="text-center mt-4">
              <p class="mb-0">
                Already have an account?
                <a href="/login" class="text-primary fw-semibold">Login here</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<%- include('partials/footer.ejs'); %>
